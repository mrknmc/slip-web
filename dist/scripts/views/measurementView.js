var app=app||{};!function(){app.MeasurementView=Backbone.View.extend({options:{showArea:!0,low:0,axisX:{labelInterpolationFnc:function(t){return moment.unix(t,"X").format("dddd")}}},template:_.template($("#chart-template").html()),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){if(this.chart)this.chart.redraw();else{this.$el.html(this.template(this.model.toJSON())),this.$(".ui.dropdown").dropdown();var t=this.model.toJSON();this.$el.highcharts({chart:{type:"area"},title:{text:t._id+": Light Intensity"},xAxis:{type:"datetime",title:{text:"Date"}},yAxis:{title:{text:"Light Intensity"}},plotOptions:{area:{marker:{enabled:!1,symbol:"circle",radius:2,states:{hover:{enabled:!0}}}}},series:[{name:t._id,data:_.map(t.measurements,function(t){return{x:new Date(1e3*t.timestamp),y:t.lightIntensity}})}]}),this.chart=this.$el.highcharts()}return this}})}();